<div class="wrapper">
    <!--   <app-table-type1 [columns]="columnsConfig"
                     [data]="incidents">
        <ng-template #cell let-ctx>
            <ng-container>
                <div [class.title]="
                     ctx.column.key=='title'"
                     [class.description]=" ctx.column.key=='description'">{{ctx.row[ctx.column.key]}}</div>
            </ng-container>
        </ng-template>
    </app-table-type1> -->
    <div class="cardWrapper">
        <div class="noDataMsg" *ngIf="incidents.length ==0">
            <div *ngIf="!isLoading">You have no incidents</div>
            <div *ngIf="isLoading">Loading...</div>
        </div>
        <div class="card" *ngFor="let incident of incidents"
             [class.withImg]="incident.photoUrl">
            <div *ngIf="!incident.hidden">
                <div class="title">
                    <span class="titleText">{{incident.title}}</span>
                    <div class="meta">
                        {{incident.dateAsString}},
                        {{incident.radiusAsString}},
                        <span class="active" *ngIf="incident.isActive"> active</span>
                        <span class="inactive" *ngIf="!incident.isActive"> inactive</span>
                    </div>
                </div>
                <div class="description">
                    {{incident.description}}
                    <div class="recognizedObjects" *ngIf="incident.recognizedObjectsAsString">
                        {{incident.recognizedObjectsAsString}}
                    </div>
                </div>
                <div class="imgWrapper" *ngIf="incident.photoUrl">
                    <img [src]="incident.photoUrl">
                </div>
                <div class="footer">
                    <div class="counter">
                        <span *ngIf="incident.statistic">
                            <mat-icon>visibility</mat-icon>{{incident.statistic.views}}
                        </span>
                    </div>
                    <div>
                        <button [matMenuTriggerFor]="incidentMenu" class="qqq white">
                            <mat-icon>menu</mat-icon>
                        </button>
                        <mat-menu #incidentMenu="matMenu" class="qqq_theme" xPosition="before">
                            <button mat-menu-item class="qqq" (click)="removeIncident(incident)">
                                <mat-icon>delete_forever</mat-icon>
                                <span>Delete</span>
                            </button>
                            <button mat-menu-item class="qqq" (click)="openIncidentOnMap(incident)">
                                <mat-icon>place</mat-icon>
                                <span>Open Map</span>
                            </button>
                        </mat-menu>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
